#!/bin/sh

#TODO 
# * Print server configuration on startup
# * Confirm shutdown if players are connected

case "$1" in
  'start')
    
    # enable core dump
    ulimit -c unlimited
    
    # start game server as background process
    nohup bin/sauer_server 2>logs/error.log >/dev/null </dev/null &
    
    echo "*** Started Hopmod Sauerbraten game server ***"
    echo "Version: Development 2009"
;;
  'stop')
    echo "shutdown" > serverexec
    killall sauer_server
esac
