\section{cubescript::cons::macro Class Reference}
\label{classcubescript_1_1cons_1_1macro}\index{cubescript::cons::macro@{cubescript::cons::macro}}
{\tt \#include $<$cubescript.hpp$>$}

Inherits {\bf cubescript::construct}.

\subsection*{Public Member Functions}
\begin{CompactItemize}
\item 
{\bf macro} ()
\item 
{\bf $\sim$macro} ()
\item 
bool {\bf parse} (std::istream \&)
\begin{CompactList}\small\item\em Parse CubeScript code. \item\end{CompactList}\item 
std::string {\bf eval} ()
\begin{CompactList}\small\item\em Evaluate the parsed \doxyref{construct}{p.}{classcubescript_1_1construct}. The result of the evaluation. \item\end{CompactList}\item 
std::string {\bf formed} () const
\begin{CompactList}\small\item\em Returns a reformed representation of the parsed \doxyref{construct}{p.}{classcubescript_1_1construct}. \item\end{CompactList}\item 
int {\bf get\_\-escape\_\-level} () const
\end{CompactItemize}


\subsection{Detailed Description}
The \doxyref{macro}{p.}{classcubescript_1_1cons_1_1macro} \doxyref{construct}{p.}{classcubescript_1_1construct} allows for \doxyref{expression}{p.}{classcubescript_1_1cons_1_1expression} evaluation and \doxyref{symbol}{p.}{classcubescript_1_1symbol} value substituation - at parse time, from within a \doxyref{block}{p.}{classcubescript_1_1cons_1_1block} \doxyref{construct}{p.}{classcubescript_1_1construct}. The beginning of a \doxyref{macro}{p.}{classcubescript_1_1cons_1_1macro} \doxyref{construct}{p.}{classcubescript_1_1construct} is denoted by the @ character, the number of consecutive @ characters indicates at which \doxyref{block}{p.}{classcubescript_1_1cons_1_1block} scope the \doxyref{macro}{p.}{classcubescript_1_1cons_1_1macro} should be evaluated. This \doxyref{construct}{p.}{classcubescript_1_1construct} has two known convenient uses: passing arguments to anonymous aliases and formatting strings.

The following code example shows an anonymous \doxyref{alias}{p.}{classcubescript_1_1alias} being passed to the sleep function where it will be executed 2 seconds after the deadline is initiated. 

\begin{Code}\begin{verbatim}    > sleep 2000 [echo [sleep was called at @@(local_time)]]
\end{verbatim}
\end{Code}

 The \doxyref{macro}{p.}{classcubescript_1_1cons_1_1macro} \doxyref{construct}{p.}{classcubescript_1_1construct} in this example, \char`\"{}@@(local\_\-time))\char`\"{}, has an escape level of 2 (indicated by two @ characters) which means the \doxyref{macro}{p.}{classcubescript_1_1cons_1_1macro} is parsed and evaluated when the first \doxyref{block}{p.}{classcubescript_1_1cons_1_1block} is parsed, by the time the second \doxyref{block}{p.}{classcubescript_1_1cons_1_1block} comes to being interpreted, the \doxyref{macro}{p.}{classcubescript_1_1cons_1_1macro} result has already been substituted. The \char`\"{}(local\_\-time)\char`\"{} part of the \doxyref{macro}{p.}{classcubescript_1_1cons_1_1macro} is an \doxyref{expression}{p.}{classcubescript_1_1cons_1_1expression} to be evaluated. Symbol macros have the form, \char`\"{}@name\_\-of\_\-symbol\char`\"{}, where characters proceeding the @ character(s) is a \doxyref{word}{p.}{classcubescript_1_1cons_1_1word} \doxyref{construct}{p.}{classcubescript_1_1construct}. 



\subsection{Constructor \& Destructor Documentation}
\index{cubescript::cons::macro@{cubescript::cons::macro}!macro@{macro}}
\index{macro@{macro}!cubescript::cons::macro@{cubescript::cons::macro}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}cubescript::cons::macro::macro ()}\label{classcubescript_1_1cons_1_1macro_f07cd5a6d4f8bafb196daf9a389f414b}


\index{cubescript::cons::macro@{cubescript::cons::macro}!~macro@{$\sim$macro}}
\index{~macro@{$\sim$macro}!cubescript::cons::macro@{cubescript::cons::macro}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}cubescript::cons::macro::$\sim$macro ()}\label{classcubescript_1_1cons_1_1macro_a532f38d3483578c538252c466f3bc4f}




\subsection{Member Function Documentation}
\index{cubescript::cons::macro@{cubescript::cons::macro}!parse@{parse}}
\index{parse@{parse}!cubescript::cons::macro@{cubescript::cons::macro}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}bool cubescript::cons::macro::parse (std::istream \& {\em input})\hspace{0.3cm}{\tt  [virtual]}}\label{classcubescript_1_1cons_1_1macro_67cb02be5fed66086775a897e399e99a}


Parse CubeScript code. 

\begin{Desc}
\item[Returns:]The return value is True when parsing is complete, otherwise False is the return value.\end{Desc}
The parse method is stream-oriented; when the current function call cannot complete the parsing, because not enough input has been given yet, the function will return to the caller, who will be responsible to re-call the function when more input data is received - the parsing state is preserved among multiple function calls until parsing is complete.

When a parsing error is detected an \doxyref{exception}{p.}{classcubescript_1_1exception} of parse\_\-error type is thrown. 

Implements {\bf cubescript::construct} \doxyref{}{p.}{classcubescript_1_1construct_c5a0e0ebea9d4e8e581a747fe19435ec}.\index{cubescript::cons::macro@{cubescript::cons::macro}!eval@{eval}}
\index{eval@{eval}!cubescript::cons::macro@{cubescript::cons::macro}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}std::string cubescript::cons::macro::eval ()\hspace{0.3cm}{\tt  [virtual]}}\label{classcubescript_1_1cons_1_1macro_b4056ef4532fb169c507caced3978d67}


Evaluate the parsed \doxyref{construct}{p.}{classcubescript_1_1construct}. The result of the evaluation. 



Implements {\bf cubescript::construct} \doxyref{}{p.}{classcubescript_1_1construct_8641596e22eeb981508e7a92890875ee}.\index{cubescript::cons::macro@{cubescript::cons::macro}!formed@{formed}}
\index{formed@{formed}!cubescript::cons::macro@{cubescript::cons::macro}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}std::string cubescript::cons::macro::formed () const\hspace{0.3cm}{\tt  [virtual]}}\label{classcubescript_1_1cons_1_1macro_fd3a3ebd5d600b40a23e8da7e8b75c27}


Returns a reformed representation of the parsed \doxyref{construct}{p.}{classcubescript_1_1construct}. 



Implements {\bf cubescript::construct} \doxyref{}{p.}{classcubescript_1_1construct_9d78c8b9b3f9d2bd69535c3fbd04b7e5}.\index{cubescript::cons::macro@{cubescript::cons::macro}!get_escape_level@{get\_\-escape\_\-level}}
\index{get_escape_level@{get\_\-escape\_\-level}!cubescript::cons::macro@{cubescript::cons::macro}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int cubescript::cons::macro::get\_\-escape\_\-level () const}\label{classcubescript_1_1cons_1_1macro_b74c1a578929f91cd103dfa5ea1ea15b}




The documentation for this class was generated from the following files:\begin{CompactItemize}
\item 
include/{\bf cubescript.hpp}\item 
src/{\bf cubescript.cpp}\end{CompactItemize}
